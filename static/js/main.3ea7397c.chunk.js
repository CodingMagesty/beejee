(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{20:function(e,t,n){e.exports=n(41)},29:function(e,t,n){},31:function(e,t,n){},33:function(e,t,n){},35:function(e,t,n){},37:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(16),l=n.n(r),s=n(6),i=n(17),c=n(10),p=(n(29),n(1)),u=n(2),d=n(4),h=n(3),m=n(5),g=n(7),f=(n(31),function(e){function t(e){var n;return Object(p.a)(this,t),(n=Object(d.a)(this,Object(h.a)(t).call(this,e))).handleSignin=n.handleSignin.bind(Object(g.a)(Object(g.a)(n))),n.handleSignout=n.handleSignout.bind(Object(g.a)(Object(g.a)(n))),n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"handleSignin",value:function(e){e.preventDefault();var t=this.refs.login.value,n=this.refs.password.value;"admin"===t&&"123"===n&&this.props.onSignin()}},{key:"handleSignout",value:function(e){e.preventDefault(),this.props.onSignout()}},{key:"render",value:function(){return!1===this.props.sign?o.a.createElement("div",{className:"header"},o.a.createElement("a",{href:"google.com",className:"logo"},"ToDoApp"),o.a.createElement("form",{className:"login",onSubmit:this.handleSignin},o.a.createElement("input",{type:"text",placeholder:"login",ref:"login"}),o.a.createElement("input",{type:"password",placeholder:"password",ref:"password"}),o.a.createElement("button",{type:"submit"},"Log in"))):o.a.createElement("div",{className:"header"},o.a.createElement("a",{href:"google.com",className:"logo"},"ToDoApp"),o.a.createElement("form",{className:"login",onSubmit:this.handleSignout},o.a.createElement("button",{type:"submit"},"Log out")))}}]),t}(a.Component)),E=(n(33),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleAddTodo=function(e){e.preventDefault();var t=e.target.email.value,a=e.target.name.value,o=e.target.text.value;n.props.addToDo(t,a,o)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return console.log("Props",this.props),o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleAddTodo},o.a.createElement("input",{type:"email",name:"email",placeholder:"email"}),o.a.createElement("input",{type:"text",name:"name",placeholder:"name"}),o.a.createElement("input",{type:"text",name:"text",placeholder:"text"}),o.a.createElement("input",{type:"submit",value:"Add ToDo"})))}}]),t}(a.Component)),y=(n(35),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleChangeTodo=function(e){e.preventDefault();var t=e.target.id.value,a=e.target.text.value,o=e.target.status.value;n.props.changeToDo(t,a,o)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("form",{onSubmit:this.handleChangeTodo},o.a.createElement("input",{type:"number",name:"id",placeholder:"id",required:!0}),o.a.createElement("input",{type:"text",name:"text",placeholder:"text",required:!0}),o.a.createElement("input",{type:"number",name:"status",placeholder:"status 10 or 0",required:!0}),o.a.createElement("input",{type:"submit",value:"Change ToDo"})))}}]),t}(a.Component)),v=(n(37),function(e){function t(){var e,n;Object(p.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(d.a)(this,(e=Object(h.a)(t)).call.apply(e,[this].concat(o)))).handleFilter=function(e){n.props.changeFilter(e)},n.handleClick=function(e){n.props.changePage(e)},n}return Object(m.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){var e=this,t=this.props.pagesSpan.map(function(t){return o.a.createElement("input",{type:"submit",value:t,key:t,onClick:function(){return e.handleClick(t)}})});return o.a.createElement("div",null,o.a.createElement("table",null,o.a.createElement("tbody",null,o.a.createElement("tr",null,o.a.createElement("th",null,o.a.createElement("input",{type:"submit",value:"NAME",onClick:function(){return e.handleFilter("username")}})),o.a.createElement("th",null,o.a.createElement("input",{type:"submit",value:"EMAIL",onClick:function(){return e.handleFilter("email")}})),o.a.createElement("th",null,o.a.createElement("input",{type:"submit",value:"TEXT"})),o.a.createElement("th",null,o.a.createElement("input",{type:"submit",value:"STATUS",onClick:function(){return e.handleFilter("status")}}))),o.a.createElement("tr",null,o.a.createElement("td",null,this.props.todosToDisplay[0]?this.props.todosToDisplay[0].username:" "),o.a.createElement("td",null,this.props.todosToDisplay[0]?this.props.todosToDisplay[0].email:" "),o.a.createElement("td",null,this.props.todosToDisplay[0]?this.props.todosToDisplay[0].text:" "),o.a.createElement("td",null,this.props.todosToDisplay[0]?10===this.props.todosToDisplay[0].status?"Completed":"Not Completed":" ")),o.a.createElement("tr",null,o.a.createElement("td",null,this.props.todosToDisplay[1]?this.props.todosToDisplay[1].username:" "),o.a.createElement("td",null,this.props.todosToDisplay[1]?this.props.todosToDisplay[1].email:" "),o.a.createElement("td",null,this.props.todosToDisplay[1]?this.props.todosToDisplay[1].text:" "),o.a.createElement("td",null,this.props.todosToDisplay[1]?10===this.props.todosToDisplay[1].status?"Completed":"Not Completed":" ")),o.a.createElement("tr",null,o.a.createElement("td",null,this.props.todosToDisplay[2]?this.props.todosToDisplay[2].username:" "),o.a.createElement("td",null,this.props.todosToDisplay[2]?this.props.todosToDisplay[2].email:" "),o.a.createElement("td",null,this.props.todosToDisplay[2]?this.props.todosToDisplay[2].text:" "),o.a.createElement("td",null,this.props.todosToDisplay[2]?10===this.props.todosToDisplay[2].status?"Completed":"Not Completed":" ")))),o.a.createElement("div",{className:"pages"},t))}}]),t}(a.Component)),b=function(){return function(e,t){fetch("https://uxcandy.com/~shapoval/test-task-backend/?developer=Gleb&page=".concat(t().changePage,"&sort_field=").concat(t().changeFilter)).then(function(e){return e.json()}).then(function(t){e({type:"CHANGE_TODOS_DISPLAY",todos:t.message.tasks}),e(function(e){for(var t=[],n=Math.ceil(e/3),a=1;a<=n;)t.push(a),a+=1;return{type:"CALCULATE_PAGES",list:t}}(t.message.total_task_count)),e({type:"CHANGE_AMOUNT_OF_PAGES",amountOfPages:t.message.total_task_count})})}},T=n(19),D=n.n(T),O=function(e){function t(){return Object(p.a)(this,t),Object(d.a)(this,Object(h.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchData(),console.log(this.props)}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement(f,{sign:this.props.sign,onSignin:this.props.sign_in,onSignout:this.props.sign_out}),o.a.createElement(v,{pagesSpan:this.props.pagesSpan,todosToDisplay:this.props.todosToDisplay,changePage:this.props.changePage,changeFilter:this.props.changeFilter}),this.props.sign?o.a.createElement(y,{changeToDo:this.props.changeToDo}):o.a.createElement(E,{addToDo:this.props.addToDo}))}}]),t}(a.Component),C=Object(c.b)(function(e){return console.log(e),{todosToDisplay:e.displayToDos,page:e.changePage,pagesSpan:e.calculatePages,amountOfPages:e.amountOfPages,filter:e.changeFilter,sign:e.sign}},function(e){return console.log(),{fetchData:function(){return e(b())},changePage:function(t){e(function(e){return{type:"CHANGE_PAGE",page:e}}(t)),e(b())},changeFilter:function(t){var n;e((n=t,console.log("CHANGE IS CALLED",n),{type:"CHANGE_FILTER",filter:n})),e(b())},sign_in:function(){return e({type:"SIGN_IN",sign:!0})},sign_out:function(){return e({type:"SIGN_OUT",sign:!1})},addToDo:function(t,n,a){e(function(e,t,n){return function(a){var o=new FormData;o.append("username",t),o.append("email",e),o.append("text",n),fetch("https://uxcandy.com/~shapoval/test-task-backend/create?developer=Gleb",{method:"POST",crossDomain:!0,body:o}).then(function(e){return e.json()})}}(t,n,a)),e(b())},changeToDo:function(t,n,a){e(function(e,t,n){return function(a){var o=[];t&&o.push(t),n&&o.push(n),o.sort();var r=[];o.forEach(function(e){r.push(encodeURIComponent(e))});var l=D()(r[0]===t?encodeURIComponent("text")+"="+r[0]+"&"+encodeURIComponent("status")+"="+r[1]+"&"+encodeURIComponent("token")+"="+encodeURIComponent("beejee"):encodeURIComponent("status")+"="+r[0]+"&"+encodeURIComponent("text")+"="+r[1]+"&"+encodeURIComponent("token")+"="+encodeURIComponent("beejee")),s=new FormData;t&&s.append("text",t),n&&s.append("status",n),s.append("signature",l),s.append("token","beejee"),fetch("https://uxcandy.com/~shapoval/test-task-backend/edit/".concat(e,"/?developer=Gleb"),{method:"POST",crossDomain:!0,body:s}).then(function(e){return e.json()}).then(function(e){return console.log(e)})}}(t,n,a)),e(b())}}})(O);var S=Object(s.c)({sign:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"SIGN_IN":return!0;case"SIGN_OUT":return!1;default:return e}},changePage:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_PAGE"===t.type?t.page:e},displayToDos:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"CHANGE_TODOS_DISPLAY"===t.type?t.todos:e},changeAmountOfPages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;return"CHANGE_AMOUNT_OF_PAGES"===t.type?t.amountOfPages:e},calculatePages:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return"CALCULATE_PAGES"===t.type?t.list:e},changeFilter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"id",t=arguments.length>1?arguments[1]:void 0;return"CHANGE_FILTER"===t.type?(console.log("Filter",t.filter),t.filter):e}});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var j=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||s.d,A=Object(s.e)(S,j(Object(s.a)(i.a)));l.a.render(o.a.createElement(c.a,{store:A},o.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[20,2,1]]]);
//# sourceMappingURL=main.3ea7397c.chunk.js.map